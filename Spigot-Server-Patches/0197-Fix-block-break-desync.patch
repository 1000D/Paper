From e1e5d9359ce99d75169f0b59f4e5cfa0d13a0f09 Mon Sep 17 00:00:00 2001
From: Michael Himing <mhiming@gmail.com>
Date: Fri, 20 Oct 2017 22:08:10 -0400
Subject: [PATCH] Fix block break desync


diff --git a/src/main/java/net/minecraft/network/NetHandlerPlayServer.java b/src/main/java/net/minecraft/network/NetHandlerPlayServer.java
index e1249ac..af0f9ea 100644
--- a/src/main/java/net/minecraft/network/NetHandlerPlayServer.java
+++ b/src/main/java/net/minecraft/network/NetHandlerPlayServer.java
@@ -1070,6 +1070,7 @@ public class NetHandlerPlayServer implements INetHandlerPlayServer, ITickable {
                     double d3 = d0 * d0 + d1 * d1 + d2 * d2;
 
                     if (d3 > 36.0D) {
+                        this.sendPacket(new SPacketBlockChange(worldserver, blockposition)); // Paper - Fix block break desync
                         return;
                     } else if (blockposition.getY() >= this.serverController.getBuildLimit()) {
                         return;
-- 
2.14.2.windows.2

